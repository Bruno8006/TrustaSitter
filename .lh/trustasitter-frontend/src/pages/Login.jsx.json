{
    "sourceFile": "trustasitter-frontend/src/pages/Login.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 18,
            "patches": [
                {
                    "date": 1750492909359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1750589052097,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,46 @@\n-// Page: Login\r\n-import React from 'react';\r\n+import React, { useState } from 'react';\r\n \r\n const Login = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+\r\n+  // Placeholder handler (a lógica de autenticação vem depois)\r\n+  const handleLogin = (e) => {\r\n+    e.preventDefault();\r\n+    console.log('Logging in with:', { email, password });\r\n+  };\r\n+\r\n   return (\r\n-    <div>\r\n-      <h2>User Login</h2>\r\n-      <p>Log in to manage your bookings and access your profile.</p>\r\n+    <div className=\"flex justify-center items-center min-h-screen bg-gray-50\">\r\n+      <form onSubmit={handleLogin} className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\r\n+        <h2 className=\"text-2xl font-bold mb-6 text-center text-purple-600\">Login to TrustaSitter</h2>\r\n+\r\n+        <label className=\"block mb-2 font-medium\">Email Address</label>\r\n+        <input\r\n+          type=\"email\"\r\n+          value={email}\r\n+          onChange={(e) => setEmail(e.target.value)}\r\n+          className=\"w-full p-2 mb-4 border rounded-md\"\r\n+          required\r\n+        />\r\n+\r\n+        <label className=\"block mb-2 font-medium\">Password</label>\r\n+        <input\r\n+          type=\"password\"\r\n+          value={password}\r\n+          onChange={(e) => setPassword(e.target.value)}\r\n+          className=\"w-full p-2 mb-6 border rounded-md\"\r\n+          required\r\n+        />\r\n+\r\n+        <button\r\n+          type=\"submit\"\r\n+          className=\"w-full bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 transition\"\r\n+        >\r\n+          Login\r\n+        </button>\r\n+      </form>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1750589482485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,46 +1,36 @@\n-import React, { useState } from 'react';\r\n+import React from 'react';\r\n \r\n const Login = () => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-\r\n-  // Placeholder handler (a lógica de autenticação vem depois)\r\n-  const handleLogin = (e) => {\r\n-    e.preventDefault();\r\n-    console.log('Logging in with:', { email, password });\r\n-  };\r\n-\r\n   return (\r\n-    <div className=\"flex justify-center items-center min-h-screen bg-gray-50\">\r\n-      <form onSubmit={handleLogin} className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\r\n-        <h2 className=\"text-2xl font-bold mb-6 text-center text-purple-600\">Login to TrustaSitter</h2>\r\n-\r\n-        <label className=\"block mb-2 font-medium\">Email Address</label>\r\n-        <input\r\n-          type=\"email\"\r\n-          value={email}\r\n-          onChange={(e) => setEmail(e.target.value)}\r\n-          className=\"w-full p-2 mb-4 border rounded-md\"\r\n-          required\r\n-        />\r\n-\r\n-        <label className=\"block mb-2 font-medium\">Password</label>\r\n-        <input\r\n-          type=\"password\"\r\n-          value={password}\r\n-          onChange={(e) => setPassword(e.target.value)}\r\n-          className=\"w-full p-2 mb-6 border rounded-md\"\r\n-          required\r\n-        />\r\n-\r\n-        <button\r\n-          type=\"submit\"\r\n-          className=\"w-full bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 transition\"\r\n-        >\r\n-          Login\r\n-        </button>\r\n-      </form>\r\n+    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n+      <div className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-md\">\r\n+        <h2 className=\"text-2xl font-bold text-center mb-6\">User Login</h2>\r\n+        <form>\r\n+          <div className=\"mb-4\">\r\n+            <label className=\"block mb-1 text-gray-700\">Email</label>\r\n+            <input\r\n+              type=\"email\"\r\n+              className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              placeholder=\"Enter your email\"\r\n+            />\r\n+          </div>\r\n+          <div className=\"mb-6\">\r\n+            <label className=\"block mb-1 text-gray-700\">Password</label>\r\n+            <input\r\n+              type=\"password\"\r\n+              className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              placeholder=\"Enter your password\"\r\n+            />\r\n+          </div>\r\n+          <button\r\n+            type=\"submit\"\r\n+            className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n+          >\r\n+            Login\r\n+          </button>\r\n+        </form>\r\n+      </div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1750589621579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,25 @@\n import React from 'react';\r\n \r\n const Login = () => {\r\n   return (\r\n-    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n-      <div className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-md\">\r\n-        <h2 className=\"text-2xl font-bold text-center mb-6\">User Login</h2>\r\n+    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n+      <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n+        <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n         <form>\r\n           <div className=\"mb-4\">\r\n             <label className=\"block mb-1 text-gray-700\">Email</label>\r\n             <input\r\n               type=\"email\"\r\n-              className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your email\"\r\n             />\r\n           </div>\r\n           <div className=\"mb-6\">\r\n             <label className=\"block mb-1 text-gray-700\">Password</label>\r\n             <input\r\n               type=\"password\"\r\n-              className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your password\"\r\n             />\r\n           </div>\r\n           <button\r\n"
                },
                {
                    "date": 1751109492805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,20 @@\n             className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n           >\r\n             Login\r\n           </button>\r\n+            <div className=\"text-center mt-4\">\r\n+              <p className=\"text-gray-600\">\r\n+                 Don't have an account?{\" \"}\r\n+                 <Link\r\n+                    to=\"/choose-role\"\r\n+                    className=\"text-purple-600 hover:underline font-semibold\"\r\n+                 >\r\n+                Click here to register\r\n+                </Link>\r\n+              </p>\r\n+            </div>\r\n+\r\n         </form>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1751109769988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import React from 'react';\r\n+import\r\n \r\n const Login = () => {\r\n   return (\r\n     <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n"
                },
                {
                    "date": 1751109791294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,50 @@\n+import React from 'react';\r\n+import { Link } from 'react-router-dom';\r\n+\r\n+const Login = () => {\r\n+  return (\r\n+    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n+      <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n+        <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n+        <form>\r\n+          <div className=\"mb-4\">\r\n+            <label className=\"block mb-1 text-gray-700\">Email</label>\r\n+            <input\r\n+              type=\"email\"\r\n+              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              placeholder=\"Enter your email\"\r\n+            />\r\n+          </div>\r\n+          <div className=\"mb-6\">\r\n+            <label className=\"block mb-1 text-gray-700\">Password</label>\r\n+            <input\r\n+              type=\"password\"\r\n+              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n+              placeholder=\"Enter your password\"\r\n+            />\r\n+          </div>\r\n+          <button\r\n+            type=\"submit\"\r\n+            className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n+          >\r\n+            Login\r\n+          </button>\r\n+            <div className=\"text-center mt-4\">\r\n+              <p className=\"text-gray-600\">\r\n+                 Don't have an account?{\" \"}\r\n+                 <Link\r\n+                    to=\"/choose-role\"\r\n+                    className=\"text-purple-600 hover:underline font-semibold\"\r\n+                 >\r\n+                Click here to register\r\n+                </Link>\r\n+              </p>\r\n+            </div>\r\n+\r\n+        </form>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Login;\r\n"
                },
                {
                    "date": 1751200223105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,97 +1,77 @@\n-import React from 'react';\r\n-import { Link } from 'react-router-dom';\r\n+import React, { useState, useContext } from 'react';\r\n+import { Link, useNavigate } from 'react-router-dom';\r\n+import { loginUser } from '../services/api';\r\n+import { AuthContext } from '../context/AuthContext';\r\n \r\n const Login = () => {\r\n-  return (\r\n-    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n-      <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n-        <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n-        <form>\r\n-          <div className=\"mb-4\">\r\n-            <label className=\"block mb-1 text-gray-700\">Email</label>\r\n-            <input\r\n-              type=\"email\"\r\n-              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n-              placeholder=\"Enter your email\"\r\n-            />\r\n-          </div>\r\n-          <div className=\"mb-6\">\r\n-            <label className=\"block mb-1 text-gray-700\">Password</label>\r\n-            <input\r\n-              type=\"password\"\r\n-              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n-              placeholder=\"Enter your password\"\r\n-            />\r\n-          </div>\r\n-          <button\r\n-            type=\"submit\"\r\n-            className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n-          >\r\n-            Login\r\n-          </button>\r\n-            <div className=\"text-center mt-4\">\r\n-              <p className=\"text-gray-600\">\r\n-                 Don't have an account?{\" \"}\r\n-                 <Link\r\n-                    to=\"/choose-role\"\r\n-                    className=\"text-purple-600 hover:underline font-semibold\"\r\n-                 >\r\n-                Click here to register\r\n-                </Link>\r\n-              </p>\r\n-            </div>\r\n+  const [email, setEmail] = useState(\"\");\r\n+  const [password, setPassword] = useState(\"\");\r\n+  const [error, setError] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+  const { login } = useContext(AuthContext);\r\n \r\n-        </form>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setError(\"\");\r\n \r\n-export default Login;\r\n-import React from 'react';\r\n-import\r\n+    try {\r\n+      const data = await loginUser(email, password);\r\n+      login(data); // Save token and user in context\r\n+      navigate(\"/dashboard\"); // redirect after login\r\n+    } catch (err) {\r\n+      console.error(\"Login error:\", err);\r\n+      setError(\"Invalid email or password.\");\r\n+    }\r\n+  };\r\n \r\n-const Login = () => {\r\n   return (\r\n     <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n       <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n         <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n-        <form>\r\n+        {error && (\r\n+          <p className=\"text-red-500 text-center mb-4\">{error}</p>\r\n+        )}\r\n+        <form onSubmit={handleSubmit}>\r\n           <div className=\"mb-4\">\r\n             <label className=\"block mb-1 text-gray-700\">Email</label>\r\n             <input\r\n               type=\"email\"\r\n+              value={email}\r\n+              onChange={(e) => setEmail(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your email\"\r\n+              required\r\n             />\r\n           </div>\r\n           <div className=\"mb-6\">\r\n             <label className=\"block mb-1 text-gray-700\">Password</label>\r\n             <input\r\n               type=\"password\"\r\n+              value={password}\r\n+              onChange={(e) => setPassword(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your password\"\r\n+              required\r\n             />\r\n           </div>\r\n           <button\r\n             type=\"submit\"\r\n             className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n           >\r\n             Login\r\n           </button>\r\n-            <div className=\"text-center mt-4\">\r\n-              <p className=\"text-gray-600\">\r\n-                 Don't have an account?{\" \"}\r\n-                 <Link\r\n-                    to=\"/choose-role\"\r\n-                    className=\"text-purple-600 hover:underline font-semibold\"\r\n-                 >\r\n+          <div className=\"text-center mt-4\">\r\n+            <p className=\"text-gray-600\">\r\n+              Don't have an account?{\" \"}\r\n+              <Link\r\n+                to=\"/choose-role\"\r\n+                className=\"text-purple-600 hover:underline font-semibold\"\r\n+              >\r\n                 Click here to register\r\n-                </Link>\r\n-              </p>\r\n-            </div>\r\n-\r\n+              </Link>\r\n+            </p>\r\n+          </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1751200402828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import React, { useState, useContext } from 'react';\r\n import { Link, useNavigate } from 'react-router-dom';\r\n import { loginUser } from '../services/api';\r\n-import { AuthContext } from '../context/AuthContext';\r\n+import { AuthContext } from '../context/AuthContext.jsx';\r\n \r\n const Login = () => {\r\n   const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n"
                },
                {
                    "date": 1751200443241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,77 +1,47 @@\n-import React, { useState, useContext } from 'react';\r\n-import { Link, useNavigate } from 'react-router-dom';\r\n-import { loginUser } from '../services/api';\r\n-import { AuthContext } from '../context/AuthContext.jsx';\r\n+import React from 'react';\r\n+import { Link } from 'react-router-dom';\r\n \r\n const Login = () => {\r\n-  const [email, setEmail] = useState(\"\");\r\n-  const [password, setPassword] = useState(\"\");\r\n-  const [error, setError] = useState(\"\");\r\n-  const navigate = useNavigate();\r\n-  const { login } = useContext(AuthContext);\r\n-\r\n-  const handleSubmit = async (e) => {\r\n-    e.preventDefault();\r\n-    setError(\"\");\r\n-\r\n-    try {\r\n-      const data = await loginUser(email, password);\r\n-      login(data); // Save token and user in context\r\n-      navigate(\"/dashboard\"); // redirect after login\r\n-    } catch (err) {\r\n-      console.error(\"Login error:\", err);\r\n-      setError(\"Invalid email or password.\");\r\n-    }\r\n-  };\r\n-\r\n   return (\r\n     <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n       <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n         <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n-        {error && (\r\n-          <p className=\"text-red-500 text-center mb-4\">{error}</p>\r\n-        )}\r\n-        <form onSubmit={handleSubmit}>\r\n+        <form>\r\n           <div className=\"mb-4\">\r\n             <label className=\"block mb-1 text-gray-700\">Email</label>\r\n             <input\r\n               type=\"email\"\r\n-              value={email}\r\n-              onChange={(e) => setEmail(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your email\"\r\n-              required\r\n             />\r\n           </div>\r\n           <div className=\"mb-6\">\r\n             <label className=\"block mb-1 text-gray-700\">Password</label>\r\n             <input\r\n               type=\"password\"\r\n-              value={password}\r\n-              onChange={(e) => setPassword(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your password\"\r\n-              required\r\n             />\r\n           </div>\r\n           <button\r\n             type=\"submit\"\r\n             className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n           >\r\n             Login\r\n           </button>\r\n-          <div className=\"text-center mt-4\">\r\n-            <p className=\"text-gray-600\">\r\n-              Don't have an account?{\" \"}\r\n-              <Link\r\n-                to=\"/choose-role\"\r\n-                className=\"text-purple-600 hover:underline font-semibold\"\r\n-              >\r\n+            <div className=\"text-center mt-4\">\r\n+              <p className=\"text-gray-600\">\r\n+                 Don't have an account?{\" \"}\r\n+                 <Link\r\n+                    to=\"/choose-role\"\r\n+                    className=\"text-purple-600 hover:underline font-semibold\"\r\n+                 >\r\n                 Click here to register\r\n-              </Link>\r\n-            </p>\r\n-          </div>\r\n+                </Link>\r\n+              </p>\r\n+            </div>\r\n+\r\n         </form>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1751200452949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,77 @@\n-import React from 'react';\r\n-import { Link } from 'react-router-dom';\r\n+import React, { useState, useContext } from 'react';\r\n+import { Link, useNavigate } from 'react-router-dom';\r\n+import { loginUser } from '../services/api';\r\n+import { AuthContext } from '../context/AuthContext';\r\n \r\n const Login = () => {\r\n+  const [email, setEmail] = useState(\"\");\r\n+  const [password, setPassword] = useState(\"\");\r\n+  const [error, setError] = useState(\"\");\r\n+  const navigate = useNavigate();\r\n+  const { login } = useContext(AuthContext);\r\n+\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    setError(\"\");\r\n+\r\n+    try {\r\n+      const data = await loginUser(email, password);\r\n+      login(data); // Save token and user in context\r\n+      navigate(\"/dashboard\"); // redirect after login\r\n+    } catch (err) {\r\n+      console.error(\"Login error:\", err);\r\n+      setError(\"Invalid email or password.\");\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 via-white to-purple-100\">\r\n       <div className=\"w-full max-w-md p-8 bg-white rounded-xl shadow-lg\">\r\n         <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">User Login</h2>\r\n-        <form>\r\n+        {error && (\r\n+          <p className=\"text-red-500 text-center mb-4\">{error}</p>\r\n+        )}\r\n+        <form onSubmit={handleSubmit}>\r\n           <div className=\"mb-4\">\r\n             <label className=\"block mb-1 text-gray-700\">Email</label>\r\n             <input\r\n               type=\"email\"\r\n+              value={email}\r\n+              onChange={(e) => setEmail(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your email\"\r\n+              required\r\n             />\r\n           </div>\r\n           <div className=\"mb-6\">\r\n             <label className=\"block mb-1 text-gray-700\">Password</label>\r\n             <input\r\n               type=\"password\"\r\n+              value={password}\r\n+              onChange={(e) => setPassword(e.target.value)}\r\n               className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n               placeholder=\"Enter your password\"\r\n+              required\r\n             />\r\n           </div>\r\n           <button\r\n             type=\"submit\"\r\n             className=\"w-full bg-purple-500 text-white py-2 rounded-md hover:bg-purple-600\"\r\n           >\r\n             Login\r\n           </button>\r\n-            <div className=\"text-center mt-4\">\r\n-              <p className=\"text-gray-600\">\r\n-                 Don't have an account?{\" \"}\r\n-                 <Link\r\n-                    to=\"/choose-role\"\r\n-                    className=\"text-purple-600 hover:underline font-semibold\"\r\n-                 >\r\n+          <div className=\"text-center mt-4\">\r\n+            <p className=\"text-gray-600\">\r\n+              Don't have an account?{\" \"}\r\n+              <Link\r\n+                to=\"/choose-role\"\r\n+                className=\"text-purple-600 hover:underline font-semibold\"\r\n+              >\r\n                 Click here to register\r\n-                </Link>\r\n-              </p>\r\n-            </div>\r\n-\r\n+              </Link>\r\n+            </p>\r\n+          </div>\r\n         </form>\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1751202777506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useContext } from 'react';\r\n import { Link, useNavigate } from 'react-router-dom';\r\n-import { loginUser } from '../services/api';\r\n+import { loginUniversal } from '../services/api';\r\n import { AuthContext } from '../context/AuthContext';\r\n \r\n const Login = () => {\r\n   const [email, setEmail] = useState(\"\");\r\n"
                },
                {
                    "date": 1751202824454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n     e.preventDefault();\r\n     setError(\"\");\r\n \r\n     try {\r\n-      const data = await loginUser(email, password);\r\n+      const data = await loginUniversal(email, password);\r\n       login(data); // Save token and user in context\r\n       navigate(\"/dashboard\"); // redirect after login\r\n     } catch (err) {\r\n       console.error(\"Login error:\", err);\r\n"
                },
                {
                    "date": 1751203005696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,13 @@\n \r\n     try {\r\n       const data = await loginUniversal(email, password);\r\n       login(data); // Save token and user in context\r\n-      navigate(\"/dashboard\"); // redirect after login\r\n+      if (data.role === \"user\") {\r\n+          navigate(\"/homeclient\");\r\n+      }  else if (data.role === \"babysitter\") {\r\n+            navigate(\"/home-babysitter\");\r\n+      }\r\n     } catch (err) {\r\n       console.error(\"Login error:\", err);\r\n       setError(\"Invalid email or password.\");\r\n     }\r\n"
                },
                {
                    "date": 1751203101716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     try {\r\n       const data = await loginUniversal(email, password);\r\n       login(data); // Save token and user in context\r\n       if (data.role === \"user\") {\r\n-          navigate(\"/homeclient\");\r\n+          navigate(\"/HomeClient\");\r\n       }  else if (data.role === \"babysitter\") {\r\n             navigate(\"/home-babysitter\");\r\n       }\r\n     } catch (err) {\r\n"
                },
                {
                    "date": 1751203137245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n       login(data); // Save token and user in context\r\n       if (data.role === \"user\") {\r\n           navigate(\"/HomeClient\");\r\n       }  else if (data.role === \"babysitter\") {\r\n-            navigate(\"/home-babysitter\");\r\n+            navigate(\"/Home-Babysitter\");\r\n       }\r\n     } catch (err) {\r\n       console.error(\"Login error:\", err);\r\n       setError(\"Invalid email or password.\");\r\n"
                },
                {
                    "date": 1751203227338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,11 +17,11 @@\n     try {\r\n       const data = await loginUniversal(email, password);\r\n       login(data); // Save token and user in context\r\n       if (data.role === \"user\") {\r\n-          navigate(\"/HomeClient\");\r\n+          navigate(\"/homeclient\");\r\n       }  else if (data.role === \"babysitter\") {\r\n-            navigate(\"/Home-Babysitter\");\r\n+            navigate(\"/home-babysitter\");\r\n       }\r\n     } catch (err) {\r\n       console.error(\"Login error:\", err);\r\n       setError(\"Invalid email or password.\");\r\n"
                },
                {
                    "date": 1751207810997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,14 +15,30 @@\n     setError(\"\");\r\n \r\n     try {\r\n       const data = await loginUniversal(email, password);\r\n-      login(data); // Save token and user in context\r\n-      if (data.role === \"user\") {\r\n-          navigate(\"/homeclient\");\r\n-      }  else if (data.role === \"babysitter\") {\r\n-            navigate(\"/home-babysitter\");\r\n+\r\n+      // Determine role based on response\r\n+      let role = \"client\"; // default\r\n+      if (data.role === \"babysitter\") {\r\n+        role = \"babysitter\";\r\n       }\r\n+\r\n+      // Save user and role in context\r\n+      login({\r\n+        token: data.token,\r\n+        user: {\r\n+          ...(data.user || data.babysitter),\r\n+          role: role\r\n+        }\r\n+      });\r\n+\r\n+      // Redirect accordingly\r\n+      if (role === \"client\") {\r\n+        navigate(\"/homeclient\");\r\n+      } else if (role === \"babysitter\") {\r\n+        navigate(\"/home-babysitter\");\r\n+      }\r\n     } catch (err) {\r\n       console.error(\"Login error:\", err);\r\n       setError(\"Invalid email or password.\");\r\n     }\r\n"
                },
                {
                    "date": 1751282327646,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,25 +16,19 @@\n \r\n     try {\r\n       const data = await loginUniversal(email, password);\r\n \r\n-      // Determine role based on response\r\n-      let role = \"client\"; // default\r\n-      if (data.role === \"babysitter\") {\r\n-        role = \"babysitter\";\r\n-      }\r\n+      // Aqui vamos confiar no backend\r\n+      const role = data.role; // vai ser \"user\" ou \"babysitter\"\r\n \r\n-      // Save user and role in context\r\n       login({\r\n         token: data.token,\r\n-        user: {\r\n-          ...(data.user || data.babysitter),\r\n-          role: role\r\n-        }\r\n+        user: data.user, // dados da pessoa\r\n+        role: role\r\n       });\r\n \r\n-      // Redirect accordingly\r\n-      if (role === \"client\") {\r\n+      // Redireciona conforme role\r\n+      if (role === \"user\") {\r\n         navigate(\"/homeclient\");\r\n       } else if (role === \"babysitter\") {\r\n         navigate(\"/home-babysitter\");\r\n       }\r\n"
                }
            ],
            "date": 1750492909359,
            "name": "Commit-0",
            "content": "// Page: Login\r\nimport React from 'react';\r\n\r\nconst Login = () => {\r\n  return (\r\n    <div>\r\n      <h2>User Login</h2>\r\n      <p>Log in to manage your bookings and access your profile.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"
        }
    ]
}